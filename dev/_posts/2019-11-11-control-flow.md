---
layout: post
title: ê¸°ë³¸ - 2. ì œì–´ íë¦„
categories: dev
tags: kotlin
---


[ì›ë¬¸: Basics - Control Flow](https://kotlinlang.org/docs/reference/control-flow.html)

{% include_relative kotlin-reference-index.md %}

## ëª©ì°¨
{:.no_toc}
0. this unordered seed list will be replaced by toc as unordered list
{:toc}

## if í‘œí˜„ì‹

ì½”í‹€ë¦°ì—ì„œ `if`ëŠ” ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” 'í‘œí˜„ì‹'ì´ë‹¤. ë”°ë¼ì„œ `if`ê°€ ë™ì¼í•œ ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¼í•­ ì—°ì‚°ì(ì¡°ê±´ ? true : false)ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin
// ê¸°ì¡´ì˜ ì‚¬ìš©ë²•
var max = a
if (a < b) max = b

// elseì™€ í•¨ê»˜
var max: Int
if (a > b) {
    max = a
} else {
    max = b
}

// í‘œí˜„ì‹ìœ¼ë¡œ
val max = if (a > b) a else b
```

`if`ì˜ ë¶„ê¸°ëŠ” ë¸”ë¡ì´ ë  ìˆ˜ ìˆìœ¼ë©° ë§ˆì§€ë§‰ í‘œí˜„ì‹ì´ ë¸”ë¡ì˜ ê°’ì´ ëœë‹¤.
```kotlin
val max = if (a > b) {
    print("Choose a")
    a
} else {
    print("Choose b")
    b
}
```

`if`ë¥¼ ë¬¸ì¥ë³´ë‹¤ëŠ” í‘œí˜„ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ë©´(ê°’ì„ ë°˜í™˜í•œë‹¤ë˜ì§€ ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤ë˜ì§€), í‘œí˜„ì‹ì€ else ë¶„ê¸°ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.

[`if`ì˜ ë¬¸ë²•](https://kotlinlang.org/docs/reference/grammar.html#ifExpression)ì„ ë³´ë¼.

## when í‘œí˜„ì‹

`when`ì€ C ê³„ì—´ ì–¸ì–´ì˜ switch ì—°ì‚°ìë¥¼ ëŒ€ì‹ í•œë‹¤. ê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
```kotlin
when (x) {
    1 -> print("x == 1")
    2 -> print("y == 2")
    else -> {   // ë¸”ë¡ì„ ì£¼ëª©í•˜ë¼
        print("xëŠ” 1ë„ ì•„ë‹ˆê³  2ë„ ì•„ë‹ˆë‹¤")
    }
}
```

`when`ì€ ë¶„ê¸° ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œê¹Œì§€ ì¸ìì™€ ëª¨ë“  ë¶„ê¸°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ë¹„êµí•œë‹¤. `when`ì€ í‘œí˜„ì‹ìœ¼ë¡œë„ ë¬¸ì¥ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í‘œí˜„ì‹ìœ¼ë¡œ ì‚¬ìš©ë  ê²½ìš° ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë¶„ê¸°ì˜ ê°’ì´ ì „ì²´ í‘œí˜„ì‹ì˜ ê°’ì´ ëœë‹¤. ë¬¸ì¥ìœ¼ë¡œ ì‚¬ìš©ë  ê²½ìš°ì—ëŠ” ê° ë¶„ê¸°ì˜ ê°’ì€ ë¬´ì‹œëœë‹¤.(`if`ì²˜ëŸ¼ ê° ë¶„ê¸°ëŠ” ë¸”ë¡ì´ ë  ìˆ˜ ìˆê³  ë¸”ë¡ì˜ ë§ˆì§€ë§‰ í‘œí˜„ì‹ì´ ê°’ì´ ëœë‹¤.)

`else` ë¶„ê¸°ëŠ” ë‹¤ë¥¸ ì–´ë–¤ ë¶„ê¸°ë„ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•  ê²½ìš° ê³„ì‚°ëœë‹¤. `when`ì´ í‘œí˜„ì‹ìœ¼ë¡œ ì‚¬ìš©ë  ê²½ìš°, ì»´íŒŒì¼ëŸ¬ê°€ ë¶„ê¸° ì¡°ê±´ì´ ëª¨ë“  ê°€ëŠ¥í•œ ê²½ìš°ë¥¼ ë‹¤ë£¬ë‹¤ê³  ì¦ëª…í•˜ì§€ ì•ŠëŠ” í•œ(ì˜ˆ. enum í´ë˜ìŠ¤ì˜ ì—”íŠ¸ë¦¬, sealed í´ë˜ìŠ¤ì˜ ì„œë¸Œíƒ€ì…) else ë¶„ê¸°ëŠ” ì˜ë¬´ì‚¬í•­ì´ë‹¤.

ë§ì€ ê²½ìš°ê°€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë  ê²½ìš°, ë¶„ê¸° ì¡°ê±´ì€ ì½¤ë§ˆ(,)ë¡œ ì—°ê²°í•˜ì—¬ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
```kotlin
when (x) {
    0, 1 -> print("x == 0 or x == 1")
    else -> print("otherwise")
}
```

ìƒìˆ˜ë¿ë§Œ ì•„ë‹ˆë¼ ì„ì˜ì˜ í‘œí˜„ì‹ì„ ë¶„ê¸° ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```kotlin
when (x) {
    parseInt(s) -> print("sëŠ” xë¥¼ ì•”í˜¸í™”í•œë‹¤")
    else -> print("sëŠ” xë¥¼ ì•”í˜¸í™”í•˜ì§€ ì•ŠëŠ”ë‹¤.)
}
```

`in`ì´ë‚˜ `!in`ì„ ì‚¬ìš©í•´ì„œ ê°’ì´ [*ë²”ìœ„](https://kotlinlang.org/docs/reference/ranges.html) ë˜ëŠ” ì»¬ë ‰ì…˜ ì•ˆì— ìˆëŠ”ì§€ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤.
```kotlin
when (x) {
    in 1..10 -> print("xê°€ ë²”ìœ„ ì•ˆì— ìˆìŒ")
    in validNumbers -> print("xëŠ” ìœ íš¨í•¨")
    !in 10..20 -> print("xê°€ ë²”ìœ„ ë°–ì— ìˆìŒ")
    else -> print("í•´ë‹¹ ì—†ìŒ")
}
```
ë˜í•œ `is`ë‚˜ `!is`ë¡œ ê°’ì´ íŠ¹ì • íƒ€ì…ì¸ì§€ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤. [*ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸](https://kotlinlang.org/docs/reference/typecasts.html#smart-casts) ë¡œ ì¸í•´ ì¶”ê°€ì ì¸ ê²€ì‚¬ ì—†ì´ íƒ€ì…ì˜ ë©”ì„œë“œì™€ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
```kotlin
fun hasPrefix(x: Any) = when(x) {
    is String -> x.startsWith("prefix")
    else -> false
}
```

ë˜í•œ `when`ì€ `if-else if` ì—°ì‡„ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ì¸ìê°€ ì „í•´ì§€ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¶„ê¸° ì¡°ê±´ì€ ë‹¨ìˆœí•œ ì°¸ ê±°ì§“ í‘œí˜„ì‹ì´ ë˜ë©° ë¶„ê¸°ëŠ” ì¡°ê±´ì´ ì°¸ì¼ ë•Œ ì‹¤í–‰ëœë‹¤.
```kotlin
when {
    x.isOdd() -> print("xëŠ” í™€ìˆ˜")
    x.isEven() -> print("xëŠ” ì§ìˆ˜")
    else -> print("xëŠ” ë³„ì¢…")
}
```

ì½”í‹€ë¦° 1.3ë¶€í„° ë‹¤ìŒ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ `when`ì˜ ì œëª© ë¶€ë¶„ì—ì„œ ì—°ì‚°ì„ ë³€ìˆ˜ì— ìº¡ì³í•  ìˆ˜ ìˆë‹¤.  
```kotlin
fun Request.getBody() =
    when (val response = executeRequest()) {
        is Success = response.body
        is HttpError -> throw HttpException(response.status)
    }
```

`when`ì˜ ì œëª© ë¶€ë¶„ì— ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ì‚¬ìš©ì´ `when` ëª¸ì²´ ë¶€ë¶„ìœ¼ë¡œ ì œí•œëœë‹¤.

[`when` ë¬¸ë²•](https://kotlinlang.org/docs/reference/grammar.html#whenExpression)ì„ ë³´ë¼.


## for ë°˜ë³µë¬¸

`for` ë°˜ë³µë¬¸ì€ ë°˜ë³µì(iterator)ë¥¼ ì œê³µí•˜ëŠ” ëª¨ë“  ê²ƒì„ ìˆœíšŒí•  ìˆ˜ ìˆë‹¤. ì´ëŠ” C#ê³¼ ê°™ì€ ì–¸ì–´ì˜ `foreach`ë¬¸ê³¼ ê°™ì€ ì—­í• ì„ í•œë‹¤. êµ¬ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:
```kotlin
for (item in collection) print(item)
```

ëª¸ì²´ëŠ” ë¸”ë¡ì´ ë  ìˆ˜ ìˆë‹¤.
```kotlin
for (item: Int in ints) {
    // ...
}
```

ì§ì „ì— ì–¸ê¸‰í–ˆë“¯ì´ `for`ëŠ” ë°˜ë³µìë¥¼ ì œê³µí•˜ëŠ” ëª¨ë“  ê²ƒì„ ìˆœíšŒí•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´,
- `iterator()`ë¥¼ ë©¤ë²„ í•¨ìˆ˜ ë˜ëŠ” í™•ì¥ í•¨ìˆ˜ë¡œ ê°€ì§€ë©´ì„œ, ë¦¬í„´ íƒ€ì…ì´
    - `next()`ë¥¼ ë©¤ë²„ í•¨ìˆ˜ ë˜ëŠ” í™•ì¥ í•¨ìˆ˜ë¥¼ ê°€ì§€ë©°,
    - `Boolean`ì„ ë¦¬í„´í•˜ëŠ” `hasNext()`ë¥¼ ë©¤ë²„ í•¨ìˆ˜ ë˜ëŠ” í™•ì¥ í•¨ìˆ˜ë¥¼ ê°€ì§€ëŠ” ê²½ìš°

ì´ ì„¸ ê°€ì§€ í•¨ìˆ˜ ëª¨ë“œ `operator`ë¡œ í‘œì‹œë˜ì–´ì•¼ í•œë‹¤.

ìˆ«ìì˜ ë²”ìœ„ë¥¼ ìˆœíšŒí•˜ê¸° ìœ„í•´ì„œëŠ” [ë²”ìœ„ í‘œí˜„ì‹](https://kotlinlang.org/docs/reference/ranges.html)ì„ ì‚¬ìš©í•˜ë¼:
```kotlin
for (i in 1..3) {
    println(i)
}
for (i in 6 downTo 0 step 2) {
    println(i)
}
```

ë²”ìœ„ë‚˜ ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” `for` ë°˜ë³µë¬¸ì€ ì¸ë±ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë°˜ë³µë¬¸ìœ¼ë¡œ ì»´íŒŒì¼ë˜ë©° ë°˜ë³µì ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë°°ì—´ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ê³  ì‹¶ì„ ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤:
```kotlin
for (i in array.indices) {
    println(array[i])
}

ëŒ€ì•ˆìœ¼ë¡œ `withIndex` ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```kotlin
for ((index, value) in array.withIndex()) {
    println("$indexì˜ ìš”ì†ŒëŠ” $valueì´ë‹¤.")
}

[`for` ë¬¸ë²•](https://kotlinlang.org/docs/reference/grammar.html#forStatement)ì„ í™•ì¸í•˜ë¼.


## while ë°˜ë³µë¬¸

## ë°˜ë³µë¬¸ì—ì„œì˜ breakì™€ continue